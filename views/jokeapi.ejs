<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Joke API</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="main.css">
   
</head>
<body>
    <%-include("hedder.ejs") %>
    <div class="container py-5">
        

        <% if (joke.length !== 0) { %>
            <div id="cardCarousel" class="carousel slide" data-bs-ride="carousel">
                <div class="carousel-inner">
        
                    <% if (joke.length === 1) { %>
                        <!-- Single Joke - No Need for Carousel -->
                        <div class="carousel-item active">
                            <div class="card mx-auto" style="width: 18rem;">
                                <div class="card-body-joke">
                                    <p class="card-text"><%- joke[0] %></p>
                                </div>
                            </div>
                        </div>
                    <% } else { %>
                        <!-- Multiple Jokes -->
                        <% joke.forEach((item, index) => { %>
                            <div class="carousel-item <%= index === 0 ? 'active' : '' %>">
                                <div class="card mx-auto" style="width: 18rem;">
                                    <div class="card-body-joke">
                                        <p class="card-text"><%- item %></p>
                                    </div>
                                </div>
                            </div>
                        <% }); %>
                    <% } %>
        
                </div>
        
                <!-- Carousel Controls (Only Needed if Multiple Items) -->
                <% if (joke.length > 1) { %>
                    <button class="carousel-control-prev" type="button" data-bs-target="#cardCarousel" data-bs-slide="prev">
                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                        <span class="visually-hidden">Previous</span>
                    </button>
                    <button class="carousel-control-next" type="button" data-bs-target="#cardCarousel" data-bs-slide="next">
                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                        <span class="visually-hidden">Next</span>
                    </button>
                <% }; %>
        
            </div>
        <% }
        else{%>
            <h1 class="text-center joke-hedder">Joke API</h1>
            <p class="text-center joke-sub-hedder">Get random jokes and funny content from the Joke API.</p>
        <%}; %>
        
        <div class="row joke-form">

            <form action="/get-a-joke" method="POST" id="myForm">
                <div class="container">
                    <div class="row">
                        <div class="col-4">
                            <p>Select category / categories : </p>
                        </div>
                        <div class="col-8">
                            <label><input type="radio" name="any-category" value="yes" id="disableCheckbox"> Any</label>
                            <label><input type="radio" name="Specific" value="no" id="enableCheckbox"> Specific</label>
                            </br>
                            <label><input type="checkbox" name="category" value="Miscellaneous" class="myCheckbox" disabled> Miscellaneous      </label>                
                            <label><input type="checkbox" name="category" value="Programming" class="myCheckbox" disabled> Programming      </label>                
                            <label><input type="checkbox" name="category" value="Dark" class="myCheckbox" disabled> Dark      </label>
                            <label><input type="checkbox" name="category" value="Pun" class="myCheckbox" disabled> Pun      </label>
                            <label><input type="checkbox" name="category" value="Spooky" class="myCheckbox" disabled> Spooky      </label>
                            <label><input type="checkbox" name="category" value="Christmas" class="myCheckbox" disabled> Christmas</label>
                        </div>
                    </div>
                </div>
                
                <div class="container">
                    <div class="row">
                        <div class="col-4">
                            <p>Select language : </p>
                        </div>
                        <div class="col-8">
                            <select name="lang">
                                <option value="en">English</option>
                                <option value="cs">Czech</option>
                                <option value="es">Spanish</option>
                                <option value="fr">French</option>
                                <option value="pt">Portuguese</option>
                            </select>
                        </div>
                    </div>
                </div>
                <div class="container">
                    <div class="row">
                        <div class="col-4">
                            <p>Select flags to blacklist : </p>
                        </div>
                        <div class="col-8">
                            <label><input type="checkbox" name="blacklist" value="nsfw" > nsfw</label>                
                            <label><input type="checkbox" name="blacklist" value="religious" > Religious</label>                
                            <label><input type="checkbox" name="blacklist" value="political" > Political</label>
                            <label><input type="checkbox" name="blacklist" value="racist"> Racist</label>
                            <label><input type="checkbox" name="blacklist" value="sexist" > Sexist</label>
                            <label><input type="checkbox" name="blacklist" value="explicit" > Explicit</label>
                        </div>
                    </div>
                </div>
                <div class="container">
                    <div class="row">
                        <div class="col-4">
                            <p>Joke type : </p>
                        </div>
                        <div class="col-8">
                            <label><input type="checkbox" name="joke type" class="joke-type" value="single">Single</label><br>
                            <label><input type="checkbox" name="joke type" class="joke-type" value="twopart">Two part</label><br>
                        </div>
                    </div>
                </div>
                <div class="container">
                    <div class="row">
                        <div class="col-4">
                            <p>Amount of jokes : </p>
                        </div>
                        <div class="col-8">
                            <input type="number" value="1" requi222831 name="joke-count" min="1" max="10">
                        </div>
                    </div>
                </div>
                <div class="joke-button-div"><input type="submit" value="Let's have Fun" id="joke-button"></div>

                
        
            </form>


        </div>
        
        
    </div>

    







    <%-include("footer.ejs") %>
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="js/joke.js"></script>
</body>
</html>